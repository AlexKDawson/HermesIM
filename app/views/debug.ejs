<!-- app/views/home.ejs -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>HermesIM</title>

  <!--JQUERY -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

  <!--BOOTSTRAP -->
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  <!--ANGULARJS -->
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular-route.min.js"></script>
  <script src="js/app.js"></script>
  <script src="js/AngularMainController.js"></script>

  <!--FAVICON -->
  <link rel='shortcut icon' href='/favicon.png' type='image/png' />

  <!---STYLESHEET -->
  <link rel="stylesheet" href="css/debugstyles.css">
</head>

<body ng-app = "myApp">
  <div ng-controller = "AngularMainController" ng-init = "init('<%=userFrndReqs%>', '<%=userFrnds%>', '<%=userName%>', '<%=userPic%>')" >

  <!--NAVBAR -->
  <nav class="navbar navbar-default">
    <div class = "row">
      <h2 class = "navbar-title col-md-2"><a href = "/debug"> Hermes <img src = "favicon.png" height = "30" class = "navbar-icon"></a></h2>
    </div>
  </nav>
  <nav class="friendbar navbar navbar-default">
    <div class = "row">
      <row>
        <form ng-submit="sendFrndReq(reqEmail)">
          <input type="text" ng-model="reqEmail">
          <button type="submit">Send Request</button>
        </form>
      </row>
      <p class = "addFrFlash">{{frndReqFlash}}</p>
    </div>
  </nav>
  <!--END NAVBAR-->



  <!--Profile Image and name-->
  <div style = "width: 300px;">
    <h2> Hello, {{userName}} </h2>
  </div>
  <div style = "width: 300px;">
    <img id= "profileimg" ng-src={{profPic}} />
  </div>




  <!--Friends -->
  <div class="frndsBox">
    <h3>Friends</h3>
    <div <div ng-show= "{{ frnds.length }} == 1 ? ('{{frnds[0]}}' == '' ? {{frnds.length - 1}} : {{frnds.length}}) : {{frnds.length}}" ng-repeat = "frnd in frnds">
      {{frnd}}
      <input class="rejectButton" type="button" value="Remove" ng-click="removeFriend(frnd)">
    </div>
  </div>


  <!--Friend Reqs -->
  <div class="frndReqsBox">
    <h3>Friend Reqs</h3>
    <div ng-show= "{{ frndReqs.length }} == 1 ? ('{{frndReqs[0]}}' == '' ? {{frndReqs.length - 1}} : {{frndReqs.length}}) : {{frndReqs.length}}" ng-repeat = "frndReq in frndReqs">
      <span class = "frndReqRow">
        <div class="friendName">{{frndReq}}</div>
        <input class="acceptButton" type="button" value="Accept" ng-click="acceptFriendRequest(frndReq)">
        <input class="rejectButton" type="button" value="Reject" ng-click="rejectFriendRequest(frndReq)">
      </span>
      <br>
    </div>
  </div>
</div>
</body>

</html>
